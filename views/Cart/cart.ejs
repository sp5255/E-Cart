<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Cart</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
            crossorigin="anonymous"
        />
        <link rel="stylesheet" href="./styles/nav/nav.css" />
    </head>

    <body class="bg-light">
        <nav>
            <div class="nav--l" id="nav__h">
                <!--   shoping icon      -->
                <div>
                    <svg
                        class="fill-current text-gray-800 mr-2"
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="#ffffff"
                    >
                        <path
                            d="M5,22h14c1.103,0,2-0.897,2-2V9c0-0.553-0.447-1-1-1h-3V7c0-2.757-2.243-5-5-5S7,4.243,7,7v1H4C3.447,8,3,8.447,3,9v11 C3,21.103,3.897,22,5,22z M9,7c0-1.654,1.346-3,3-3s3,1.346,3,3v1H9V7z M5,10h2v2h2v-2h6v2h2v-2h2l0.002,10H5V10z"
                        ></path>
                    </svg>
                </div>

                <div class="nav__h">E-Cart</div>
            </div>

            <div class="nav--r">
                <!--        cart icon        -->
                <!-- <div>
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        height="24px"
                        viewBox="0 0 24 24"
                        width="24px"
                        fill="#ffffff"
                    >
                        <path d="M0 0h24v24H0V0z" fill="none" />
                        <path
                            d="M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"
                        />
                    </svg>
                </div> -->
                <!--            user icon         -->
                <div>
                    <% if(cartInfo) { %>
                        <span><%= cartInfo.userName %></span>
                        <button type="button" class="btn btn-outline-danger text-white " id="logout">logout</button>
                        <% } else { %>
                    <svg
                        class="fill-current hover:text-black"
                        id="nav__login"
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="#ffffff"
                    >
                        <circle fill="none" cx="12" cy="7" r="3"></circle>
                        <path
                            d="M12 2C9.243 2 7 4.243 7 7s2.243 5 5 5 5-2.243 5-5S14.757 2 12 2zM12 10c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3S13.654 10 12 10zM21 21v-1c0-3.859-3.141-7-7-7h-4c-3.86 0-7 3.141-7 7v1h2v-1c0-2.757 2.243-5 5-5h4c2.757 0 5 2.243 5 5v1H21z"
                        ></path>
                    </svg>
                    <% } %>
                </div>
            </div>
        </nav>

        
        <% if(cartInfo.cartProducts)  {%>
            <% for(let i = 0; i < cartInfo.cartProducts.length; i++) { %>                 
               <%let {id, path, product, price , quantity} = cartInfo.cartProducts[i][0] %>
               <% totalPrice = quantity*price %>
                              
        <div class="container bg-white my-5 rounded p-5">

            <div class="row">
                <div class="col-2">
                    <img class="mw-100" src= <%= path %> />
                </div>

                <div class="col-2 text-center">
                    <div class="row mb-5 border-dark border-start">
                        <span >Name</span>
                    </div>
                    <div class="row my-3">
                        <span ><%= product %></span>
                    </div>
                </div>

                <div class="col-2 text-center">
                    <div class="row mb-5 border-dark border-start">
                        <span>Quantity </span>
                    </div>
                    <div class="row my-3">
                        <span ><%= quantity %></span>
                    </div>
                </div>

                <div class="col-2 text-center">
                    <div class="row mb-5 border-dark border-start">
                        <span >Price</span>
                    </div>
                    <div class="row my-3">
                        <span ><%= price %></span>
                    </div>
                </div>

                <div class="col-2 text-center">
                    <div class="row mb-5 border-dark border-start">
                        <span>Total Price</span>
                    </div>
                    <div class="row my-3">
                        <span ><%= totalPrice %> </span>
                    </div>
                </div>

                <div class="col-2 text-center">
                    <div class="row mb-5 border-dark border-start">
                        <span>Delete</span>
                    </div>
                    <div class="row my-3  d-flex justify-content-center">
                        <button  class="btn btn-outline-primary w-50 p-1    " name = "delete products" id= <%= id %> >Delete</button>
                    </div>
                </div>
            </div>
            
        </div>
        <% } %>
        <% } %>
    </body>
    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"
    ></script>
    <script type="text/javascript" src="./js/nav.js"></script>
    <script type="text/javascript" src="./js/cart.js"></script>
    

    
</html>
